<!DOCTYPE html>
<html lang="en">

    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
        <link rel="stylesheet" href="style.css"/>
        <script type="text/javascript" src="script.js"></script>
    </head>

<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <a class="navbar-item" href="mainMenu.html">
            <img src="images/Gyldne_pizza1.png" width="120" height="28">
          </a>
      
          <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>
      
        <div id="navbar" class="navbar-menu">
          <div class="navbar-start">
            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link">
                  Mer
                </a>
        
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="employees.html">
                    Ansatte 
                  </a>

                  <hr class="navbar-divider">
                  <a class="navbar-item" href="restaurants.html">
                    Restauranter
                  </a>
                  <a id="navbar-child-1" class="navbar-item" href="restaurant-oslo.html">
                    Oslo
                  </a>
                  <a id="navbar-child-2" class="navbar-item" href="restaurant-bergen.html">
                    Bergen
                  </a>
                  <a id="navbar-child-3" class="navbar-item" href="restaurant-moss.html">
                    Moss
                  </a>
                  <a id="navbar-child-4" class="navbar-item" href="restaurant-hadeland.html">
                    Hadeland
                  </a>

                  <hr class="navbar-divider">
                  <a class="navbar-item" href="pizzameny.html">
                    Pizzameny
                  </a>

                  <hr class="navbar-divider">
                  <a class="navbar-item" href="accounting.html">
                    Regnskap
                  </a>
                </div>
            </div>
      
            
          </div>
      
          <div class="navbar-end">
            <a class="navbar-item" href="employees.html">
                Ansatte
              </a>
  
              <a class="navbar-item" href="restaurants.html">
                  Restauranter
                </a>
  
                <a class="navbar-item" href="pizzameny.html">
                  Pizzameny
                </a>
  
                <a class="navbar-item" href="accounting.html">
                  Regnskap
                </a>
          </div>
        </div>
        <div class="navbar-item">
          <div class="buttons">
            <a id="logg-ut-btn" class="button is-danger" href="login.html">
              <strong>Logg ut</strong>
            </a>
          </div>
        </div>
    </nav>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Søk etter ansatte.." title="Skriv et navn">

    <ul id="myUL">
        <li type="button" id="oliverL" onclick="oliverL()"><a href="#">Oliver Løvlien</a></li>
        <li><a href="#">Ollibolly Løvlien</a></li>
        <li><a href="#">Oliver Columbus</a></li>
        <li><a href="#">Oliver Conya</a></li>
        <li><a href="#">Oliver Farmer</a></li>
        <li><a href="#">Oliver Bonde</a></li>
        <li><a href="#">Oliver Choudhary</a></li>
    </ul>

    <div id="displayEmployeeDiv" class="card-content">
        <div class="media">
            <div class="media-left">    
            </div>
              <div class="media-content">
                
              </div>
        </div>
    </div>

    

  
    <div id="id01" class="modal">
        <form class="modal-content animate" action="">
            <div class="container">
                <Div>
                    <label for="fullName">Fornavn og Etternavn</label>
                    <input type="text" id="fullName" placeholder="Fullt navn" required>
                </Div>
                <Div>
                    <label for="email">E-post:</label>
                    <input type="email" id="email" name="email" required> 
                </Div>
                <Div>
                    <label for="pwd">Passord:</label>
                    <input type="password" id="pwd" name="pwd" minlength="3" required> 
                </Div>
                <Div>
                    <label for="telNbr">Telefonnummer</label>
                    <input type="tel" id="telNbr" name="telNbr"> 
                </Div>
                <Div>
                    <label for="hourlyWage">Timelønn</label>
                    <input type="number" id="hourlyWage" name="hourlyWage">
                </Div>
                <Div>
                    <label for="percentagePosition">Prosentstilling</label>
                    <input type="number"  id="percentagePosition" name="percentagePosition"> 
                </Div>
                <Div>
                    <label for="restaurants">Restauranter</label>
                    <select name="restaurants" id="restaurants">
                        <option value="oslo">Oslo</option>
                        <option value="hadeland">Hadeland</option>
                        <option value="bergen">Bergen</option>
                        <option value="moss">Moss</option>
                    </select>
                </Div>
<!--            <Div>
                    <label for="upload">Kontrakt</label>
                    <input type="file" name="upload" accept="application/pdf,application/vnd.ms-excel"/>  
                </Div>
-->  
                <Div>
                    <label for="personalNumber">Fødselsnummer</label>
                    <input type="password" id="personalNumber"><!--muligens bytt fra password til number eller text-->  
                </Div>
                <button  id="addBtn" >
                    Godkjenn
                </button>
            </div>                
        </form>
    </div>
    <button class="title-btn" onclick="document.getElementById('id01').classList.toggle('is-active')" style="width:auto;">
        Legg til ansatt
    </button>
    <button class="edit-btn" onclick="document.getElementById('id01').classList.toggle('is-active')" style="width:auto;">
        Rediger ansatt
    </button>
    <button class="delete-btn" onclick="document.getElementById('id01').classList.toggle('is-active')" style="width:auto;">
        Slett ansatt
    </button>


<script>
    
    
let employees = [];
    // example {employeeId: 0001, fullName: "Oliver Løvlien", email: "oliverlovlien@gp.no",...}
const addemployee = (ev)=>{
    ev.preventDefault();  //to stop the form submitting
    let employee = [
    {
        employeeId: 0001,
        fullName: "Oliver Løvlien",
        email: "oliverlovlien@gp.no",
        pwd: 0001,
        telNbr: 90050001,
        hourlyWage: 350,
        percentagePositions: 100,
        restaurants: "Oslo",
//        upload: "",
        personalNumber: 00000000001
    },
    {
        employeeId: 0002,
        fullName: "Ollibolly Løvlien",
        email: "ollibollylovlien@gp.no",
        pwd: 0002,
        telNbr: 90050002,
        hourlyWage: 173,
        percentagePositions: 50,
        restaurants: "Oslo",
//        upload: "",
        personalNumber: 00000000002
    },
    {
        employeeId: 0003,
        fullName: "Oliver Columbus",
        email: "olc@gp.no",
        pwd: 0003,
        telNbr: 90050003,
        hourlyWage: 350,
        percentagePositions: 100,
        restaurants: "Moss",
//        upload: "",
        personalNumber: 00000000003
    },
    {
        employeeId: 0004,
        fullName: "Oliver Conya",
        email: "oc@gp.no",
        pwd: 0004,
        telNbr: 90050004,
        hourlyWage: 350,
        percentagePositions: 100,
        restaurants: "Hadeland",
//        upload: "",
        personalNumber: 00000000004
    },
    {
        employeeId: 000,
        fullName: "Oliver Farmer",
        email: "of@gp.no",
        pwd: 0005,
        telNbr: 90050005,
        hourlyWage: 173,
        percentagePositions: 50,
        restaurants: "Hadeland",
//        upload: "",
        personalNumber: 00000000005
    },
    {
        employeeId: 0006,
        fullName: "Oliver Bonde",
        email: "ob@gp.no",
        pwd: 0006,
        telNbr: 90050006,
        hourlyWage: 350,
        percentagePositions: 100,
        restaurants: "Bergen",
//        upload: "",
        personalNumber: 00000000006
    },
    {
        employeeId: 0007,
        fullName: "Oliver Choudhary",
        email: "oliverchoudhary@gp.no",
        pwd: 0007,
        telNbr: 90050007,
        hourlyWage: 150,
        percentagePositions: 50,
        restaurants: "Bergen",
//        upload: "",
        personalNumber: 00000000007
    },
    {
        employeeId: Date.now(),
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        pwd: document.getElementById('pwd').value,
        telNbr: document.getElementById('telNbr').value,
        hourlyWage: document.getElementById('hourlyWage').value,
        percentagePositions: document.getElementById('percentagePosition').value,
        restaurants: document.getElementById('restaurants').value,
        upload: "",
        personalNumber: document.getElementById('personalNumber').value
    }
    ];
    employees.push(employee);
//    document.forms[0].reset(); // to clear the form for the next entries
    
        window.location.href = "employees.html";
    //for display purposes only
    console.warn('added' , {employees} );
    let pre = document.querySelector('#msg pre');
    pre.textContent = '\n' + JSON.stringify(employees, '\t', 2);

    //saving to localStorage
    localStorage.setItem('GoldenPizzaEmployeeList', JSON.stringify(employees) );
}
document.addEventListener('DOMContentLoaded', ()=>{
    document.getElementById('addBtn').addEventListener('click',  addLi);
});

function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
function addLi(ev){
    ev.preventDefault();
    document.getElementById("id01").classList.toggle("is-active");


    let fullName = document.querySelector('#fullName');
    let list = document.querySelector('#myUL'); 
    
    let item = document.createElement('li'); // create li node
    let itemText = document.createElement('a'); // create text node
    
    itemText.innerHTML = fullName.value;
    itemText.setAttribute("href", "firstName.value");

    item.appendChild(itemText); // append text node to li node
    list.appendChild(item); // append li node to list
    
 
}
oliverL.onclick = buttonPressed;
function buttonPressed(){
    let displayEmployeeDiv = document.getElementById("displayEmployeeDiv");
    for(let i = 0; i < employees.length; i++){
            displayEmployeeDiv.innerHTML += `
                
                <h3>Navn: + ${employees[i].fullName}</h3>
                <p>e-post: + ${employees[i].email}</p>
                <p>Mobil: + ${employees[i].telNbr}</p>
                <hr>
                <br><br><br>`
}





</script>

</body>



</html>
